<html class="has-navbar-fixed-top"><head><title>Call JS from Fable Â· Fable</title><link rel="stylesheet" type="text/css" href="/fable-doc/style.css"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"/><script src="https://polyfill.app/api/polyfill?features=scroll-behavior"></script><script type="text/javascript">
var nacara = {};
                </script><script type="text/javascript">window.onload = function () {
    // Initialize the menu state
    // Set as active the menu for the current page
    document
        .querySelectorAll(`.menu [data-menu-id='${nacara.pageId}']`)
        .forEach(function (menuItem) {
            menuItem.classList.add("is-active")
        });

    // Collapse menu-group which doesn't concerns the current page
    document
        .querySelectorAll(`.menu .menu-group`)
        .forEach(function (menuGroup) {
            var parentChildren = Array.from(menuGroup.parentElement.children);
            var subItems = parentChildren.find(function (child) {
                        return child.nodeName === "UL";
                    });

            var activeMenu =
                    Array.from(subItems.children)
                        .find(function (child) {
                        return child.firstChild.classList.contains("is-active")
                    });

            if (activeMenu === undefined) {
                menuGroup.classList.remove("is-expanded");
                subItems.style.display = "none";
            } else {
                menuGroup.classList.add("is-expanded");
                subItems.style.display = "block";
            }
        });

    // Register listener to handle menu-group
    document
        .querySelectorAll(`.menu .menu-group`)
        .forEach(function (menuGroup) {
            menuGroup.addEventListener("click", function (ev) {
                var parentChildren = Array.from(ev.target.parentElement.children);
                var subItems =
                    parentChildren.find(function (child) {
                        return child.nodeName === "UL";
                    });

                if (ev.target.classList.contains("is-expanded")) {
                    ev.target.classList.remove("is-expanded");
                    subItems.style.display = "none";
                } else {
                    ev.target.classList.add("is-expanded");
                    subItems.style.display = "block";
                }

            });
        });
};
</script></head><body><nav class="navbar is-fixed-top"><div class="container"><div class="navbar-brand"><div class="navbar-item title is-4">Fable</div></div><div class="navbar-start"></div><div class="navbar-end"><a class="navbar-item" href="https://fable.io/repl/" target="_self"><span>Try it out</span></a><a class="navbar-item" href="https://gitter.im/fable-compiler/Fable" target="_blank" style="color:#24292e"><span class="icon"><i class=" fab fa-gitter fa-lg"></i></span><span>Support</span></a><a class="navbar-item" href="https://github.com/fable-compiler/fable" target="_blank" style="color:#24292e"><span class="icon"><i class=" fab fa-github fa-lg"></i></span></a><a class="navbar-item" href="https://twitter.com/FableCompiler" target="_blank" style="color:#55acee"><span class="icon"><i class=" fab fa-twitter fa-lg"></i></span></a></div></div></nav><div class="container"><div class="columns is-gapless"><div class="column is-2-desktop is-3-touch full-height-scrollable-content"><aside class="menu" style="margin-top:3.25rem"><p class="menu-label">Introduction</p><ul class="menu-list"><li><a class="" href="/fable-doc/introduction/foreword.html" data-menu-id="introduction/foreword">Foreword</a></li><li><a class="" href="/fable-doc/introduction/net-users-read-this.html" data-menu-id="introduction/net-users-read-this">Are you a .NET developer?</a></li><li><a class="" href="/fable-doc/introduction/js-users-read-this.html" data-menu-id="introduction/js-users-read-this">Are you a JS developer?</a></li></ul><p class="menu-label">Fable in 3 steps</p><ul class="menu-list"><li><a class="" href="/fable-doc/3-steps/discover.html" data-menu-id="3-steps/discover">What is Fable?</a></li><li><a class="" href="/fable-doc/3-steps/setup.html" data-menu-id="3-steps/setup">Setup</a></li><li><a class="" href="/fable-doc/3-steps/choose-a-template.html" data-menu-id="3-steps/choose-a-template">Start a new project using templates</a></li></ul><p class="menu-label">Your Fable project</p><ul class="menu-list"><li><a class="" href="/fable-doc/your-fable-project/add-a-fsharp-file.html" data-menu-id="your-fable-project/add-a-fsharp-file">Add a new F# file</a></li><li><a class="" href="/fable-doc/your-fable-project/use-a-fable-library.html" data-menu-id="your-fable-project/use-a-fable-library">Use a Fable library</a></li><li><a class="" href="/fable-doc/your-fable-project/build-and-run.html" data-menu-id="your-fable-project/build-and-run">Build &amp; Run</a></li></ul><p class="menu-label">Communicate with Javascript</p><ul class="menu-list"><li><a class="" href="/fable-doc/communicate/js-from-fable.html" data-menu-id="communicate/js-from-fable">Call JS from Fable</a></li><li><a class="" href="/fable-doc/communicate/fable-from-js.html" data-menu-id="communicate/fable-from-js">Call Fable from JavaScript</a></li><li><a class="" href="/fable-doc/communicate/numbers.html" data-menu-id="communicate/numbers">Numbers</a></li></ul><p class="menu-label">From .NET to Fable</p><ul class="menu-list"><li><a class="" href="/fable-doc/dotnet/numbers.html" data-menu-id="dotnet/numbers">Numbers</a></li><li><a class="" href="/fable-doc/dotnet/compatibility.html" data-menu-id="dotnet/compatibility">.NET and F# Compatibility</a></li></ul><p class="menu-label">Miscellaneous</p><ul class="menu-list"><li><a class="" href="/fable-doc/miscellaneous/official-samples.html" data-menu-id="miscellaneous/official-samples">Check official samples</a></li><li><a class="" href="/fable-doc/miscellaneous/awesome-list.html" data-menu-id="miscellaneous/awesome-list">Awesome Fable</a></li><li><a class="" href="/fable-doc/miscellaneous/fable-in-videos.html" data-menu-id="miscellaneous/fable-in-videos">Fable in videos</a></li></ul></aside></div><div class="column is-8-desktop is-9-touch full-height-scrollable-content" style="scroll-behavior:smooth"><section class="section"><div class="content"><div><p></p>
<h2><a href="#call-js-from-fable" aria-hidden="true" style="visibility:visible"><span class="anchor" id="call-js-from-fable"></span>#</a> Call JS from Fable</h2>
<p>Interoperability is a matter of trust between your statically typed F# code and your untyped dynamic JS code. In order to mitigate risks, Fable gives you several possibilities, amongst them: type safety. But sometimes it may sound more convenient to just call JS code in a more dynamic fashion although it often leads to runtime bugs which Fable is very good at decimating from the ground up.</p>
<p>We'll describe both the safe way and the dynamic way and then it will be up to you to decide. Let's start!</p>
<h3><a href="#adding-the-js-library-to-the-project" aria-hidden="true" style="visibility:visible"><span class="anchor" id="adding-the-js-library-to-the-project"></span>#</a> Adding the JS library to the project</h3>
<p>The very first thing to do is add the library to our project. Since we always have a <code>package.json</code> file, we'll just add the wanted library to our project using either <code>npm install myAwesomeJSLibrary</code> or <code>yarn add myAwesomeJSLibrary</code>. The library will then be available in the <code>node_modules</code> folder that is automatically used by Fable.</p>
<p>If your library is a custom one, just skip this step.</p>
<h3><a href="#type-safety-with-imports-and-interfaces" aria-hidden="true" style="visibility:visible"><span class="anchor" id="type-safety-with-imports-and-interfaces"></span>#</a> Type safety with Imports and Interfaces</h3>
<p>To use code from JS libraries first you need to import it into F#. For this Fables uses <a href="https://developer.mozilla.org/en/docs/web/JavaScript/reference/statements/import">ES2015 imports</a>, which can be later transformed to other JS module systems like <code>commonjs</code> or <code>amd</code> by Babel.</p>
<p>There are two ways to declare ES2015 imports in the Fable: by using either the <strong>Import attribute</strong> or the <strong>import expressions</strong>. The <code>ImportAttribute</code> can decorate members, types or modules and works as follows:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A0A1A7;font-style: italic">// Namespace imports</span>
<span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;*&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> from</span><span style="color: #A626A4">=</span><span style="color: #50A14F">&quot;my-module&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span style="color: #A0A1A7;font-style: italic">// import * from &quot;my-module&quot;</span>

<span style="color: #A0A1A7;font-style: italic">// Member imports</span>
<span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;myFunction&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> from</span><span style="color: #A626A4">=</span><span style="color: #50A14F">&quot;my-module&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span style="color: #A0A1A7;font-style: italic">// import { myFunction } from &quot;my-module&quot;</span>

<span style="color: #A0A1A7;font-style: italic">// Default imports</span>
<span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;default&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> from</span><span style="color: #A626A4">=</span><span style="color: #50A14F">&quot;express&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span style="color: #A0A1A7;font-style: italic">// import Express from &quot;express&quot;</span></code></pre>
<p>If the value is globally accessible in JS, you can use the <code>Global</code> attribute with an optional name parameter instead;</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span> </span><span style="color: #A626A4">let</span><span style="color: #0184BC"> [&lt;Global&gt;]</span><span> </span><span style="color: #E45649">console</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">JS.Console </span><span style="color: #A626A4">=</span><span> jsNative</span></code></pre>
<h4><a href="#lets-practice-1st-try" aria-hidden="true" style="visibility:visible"><span class="anchor" id="lets-practice-1st-try"></span>#</a> Let's practice! 1st try!</h4>
<p>Now we've seen this, let's review the sample described in the <a href="https://github.com/fable-compiler/fable2-samples/tree/master/interop">interop</a> sample</p>
<p>Let's say we have an <code>alert.js</code> file that we'd like to use in our Fable project.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">function</span><span> </span><span style="color: #4078F2">triggerAlert</span><span style="color: #383A42">(message)</span><span> </span><span style="color: #383A42">{</span>
<span>  </span><span style="color: #4078F2">alert</span><span style="color: #383A42">(message);</span>
<span style="color: #383A42">}</span>

<span style="color: #A626A4">const</span><span> </span><span style="color: #986801">someString</span><span> </span><span style="color: #0184BC">=</span><span> </span><span style="color: #50A14F">&quot;And I Like that!&quot;</span><span style="color: #383A42">;</span>

<span style="color: #A626A4">export</span><span> </span><span style="color: #383A42">{</span><span> </span><span style="color: #E45649">triggerAlert</span><span style="color: #383A42">,</span><span> </span><span style="color: #E45649">someString</span><span> </span><span style="color: #383A42">};</span></code></pre>
<p>As you can see we've got one function, <code>triggerAlert</code> and one constant <code>someString</code>. Both are exported using the ES6 <code>export</code> keyword.</p>
<p>In order to use this in our Fable code, let's create an <code>interface</code> that will mimic this:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  </span><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span><span> </span><span style="color: #A0A1A7;font-style: italic">// needed to call interop tools</span>

<span>  </span><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">IAlert</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> triggerAlert </span><span style="color: #A626A4">:</span><span style="color: #383A42"> message</span><span style="color: #A626A4">:</span><span style="color: #C18401">string </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">unit</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> someString</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string</span></code></pre>
<p>As you can see the process is quite easy. The <code>I</code> in <code>IAlert</code> is not mandatory but it's a precious hint that we're going to use an interface. The <code>abstract</code> keyword only indicates that there's no actual implementation in F#. That's true, since we rely on the JavaScript one.</p>
<p>Now let's use this:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  </span><span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;*&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> </span><span style="color: #50A14F">&quot;path/to/alert.js&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>  </span><span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">mylib</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">IAlert </span><span style="color: #A626A4">=</span><span> jsNative</span></code></pre>
<p>Here we use the <code>Import</code> directive, just like we described earlier.</p>
<ul>
<li>step 1: We specify the elements we wish to use. Here<code>*</code> means: &quot;take everything that's been exported&quot;</li>
<li>step 2: we set the path to our js library.</li>
<li>step 3: we create a let binding called <code>mylib</code> to map the js library.</li>
<li>step 4: we use the <code>jsNative</code> keyword to say that our <code>mylib</code> is just a placeholder for the JavaScript native implementation.</li>
</ul>
<p>Now we can use this:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>mylib.triggerAlert </span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;Hey I&#039;m calling my js library from Fable &gt; &quot;</span><span> </span><span style="color: #A626A4">+</span><span> mylib.someString</span><span style="color: #A626A4">)</span></code></pre>
<p>If everything's working correctly, it should create an alert popup in your browser! (Of course this sample is intended for web apps, but you could do the same in a Node.js app.</p>
<h4><a href="#lets-practice-2nd-try" aria-hidden="true" style="visibility:visible"><span class="anchor" id="lets-practice-2nd-try"></span>#</a> Let's practice! 2nd try!</h4>
<p>Assuming we've got two exported functions from a <code>Canvas.js</code> file: <code>drawSmiley</code> and <code>drawBubble</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">export</span><span> </span><span style="color: #A626A4">function</span><span> </span><span style="color: #4078F2">drawSmiley</span><span style="color: #383A42">()</span><span> </span><span style="color: #383A42">{</span>
<span>  </span><span style="color: #A0A1A7;font-style: italic">// do something</span>
<span style="color: #383A42">}</span>
<span style="color: #A626A4">export</span><span> </span><span style="color: #A626A4">function</span><span> </span><span style="color: #4078F2">drawBubble</span><span style="color: #383A42">()</span><span> </span><span style="color: #383A42">{</span>
<span>  </span><span style="color: #A0A1A7;font-style: italic">// do something</span>
<span style="color: #383A42">}</span></code></pre>
<p>we could use the same method we used with <code>alert.js</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span>  </span><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span><span> </span><span style="color: #A0A1A7;font-style: italic">// needed to call interop tools</span>

<span>  </span><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">ICanvas</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> drawSmiley</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span> </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">unit</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> drawBubble</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span> </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">unit</span>

<span>  </span><span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;*&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> </span><span style="color: #50A14F">&quot;path/to/Canvas.js&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>  </span><span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">mylib</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">ICanvas </span><span style="color: #A626A4">=</span><span> jsNative</span>

<span>  mylib.drawSmiley</span><span style="color: #986801">()</span><span> </span><span style="color: #A0A1A7;font-style: italic">// etc..</span></code></pre>
<p>or we could do the same things a little bit differently, by using the <code>importMember</code> helper function to directly map the js function to the F# function.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span><span> </span><span style="color: #A0A1A7;font-style: italic">// needed to call interop tools</span>

<span style="color: #A626A4">module</span><span style="color: #4078F2"> Canvas </span><span style="color: #A626A4">=</span>
<span>  </span><span style="color: #A0A1A7;font-style: italic">// here we just import a member function from canvas.js called drawSmiley.</span>
<span>  </span><span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">drawSmiley</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">id</span><span style="color: #A626A4">:</span><span style="color: #C18401">string </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">unit </span><span style="color: #A626A4">=</span><span> importMember  </span><span style="color: #50A14F">&quot;path/to/Canvas.js&quot;</span>
<span>  </span><span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">drawBubble</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">id</span><span style="color: #A626A4">:</span><span style="color: #C18401">string </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">unit </span><span style="color: #A626A4">=</span><span> importMember  </span><span style="color: #50A14F">&quot;path/to/Canvas.js&quot;</span>

<span>Canvas.drawSmiley</span><span style="color: #986801">()</span></code></pre>
<p>The result would be the same, but the philosophy is slightly different. That's basically up to you to make a choice ð</p>
<h4><a href="#miscelaneous-import-helpers" aria-hidden="true" style="visibility:visible"><span class="anchor" id="miscelaneous-import-helpers"></span>#</a> Miscelaneous import helpers</h4>
<p>There are other interop helpers you can use thanks to <code>Fable.Core.JsInterop</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">buttons</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">obj </span><span style="color: #A626A4">=</span><span> importAll </span><span style="color: #50A14F">&quot;my-lib/buttons&quot;</span>
<span style="color: #A0A1A7;font-style: italic">// import * as buttons from &quot;my-lib/buttons&quot;</span>

<span style="color: #A0A1A7;font-style: italic">// It works for function declarations too</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">getTheme</span><span style="color: #A626A4">(</span><span style="color: #383A42">x</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">int</span><span style="color: #A626A4">):</span><span> </span><span style="color: #C18401">IInterface </span><span style="color: #A626A4">=</span><span> importDefault </span><span style="color: #50A14F">&quot;my-lib&quot;</span>
<span style="color: #A0A1A7;font-style: italic">// import getTheme from &quot;my-lib&quot;</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">myString</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string </span><span style="color: #A626A4">=</span><span> importMember </span><span style="color: #50A14F">&quot;my-lib&quot;</span>
<span style="color: #A0A1A7;font-style: italic">// import { myString } from &quot;my-lib&quot;</span>

<span style="color: #A0A1A7;font-style: italic">// Use just `import` to make the member name explicit</span>
<span style="color: #A0A1A7;font-style: italic">// as with the ImportAttribute</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">aDifferentName</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string </span><span style="color: #A626A4">=</span><span> import </span><span style="color: #50A14F">&quot;myString&quot;</span><span> </span><span style="color: #50A14F">&quot;my-lib&quot;</span>
<span style="color: #A0A1A7;font-style: italic">// import { myString } from &quot;my-lib&quot;</span></code></pre>
<h3><a href="#emit-your-relatively-safe-friend" aria-hidden="true" style="visibility:visible"><span class="anchor" id="emit-your-relatively-safe-friend"></span>#</a> Emit, your relatively safe friend</h3>
<p>You can use the <code>Emit</code> attribute to decorate a function. Every call to the function will then be replaced inline by the content of the attribute with the placeholders <code>$0, $1, $2...</code> replaced by the arguments. For example, the following code will generate JavaScript as seen below.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core</span>

<span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;$0 + $1&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">add</span><span style="color: #383A42"> </span><span style="color: #A626A4">(</span><span style="color: #383A42">x</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">int</span><span style="color: #A626A4">)</span><span> </span><span style="color: #A626A4">(</span><span style="color: #383A42">y</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string</span><span style="color: #A626A4">):</span><span> </span><span style="color: #C18401">float </span><span style="color: #A626A4">=</span><span> jsNative</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">result</span><span> </span><span style="color: #A626A4">=</span><span> add </span><span style="color: #986801">1</span><span> </span><span style="color: #50A14F">&quot;2&quot;</span></code></pre>
<p>When you don't know the exact number of arguments you can use the following syntax:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">Test</span><span style="color: #986801">()</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;$0($1...)&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>    </span><span style="color: #A626A4">member</span><span> </span><span style="color: #E45649">__.Invoke</span><span style="color: #A626A4">(</span><span style="color: #0184BC">[&lt;ParamArray&gt;]</span><span> </span><span style="color: #383A42">args</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">int</span><span style="color: #A626A4">[]):</span><span> </span><span style="color: #C18401">obj </span><span style="color: #A626A4">=</span><span> jsNative</span></code></pre>
<p>It's also possible to pass syntax conditioned to optional parameters:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">Test</span><span style="color: #986801">()</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;$0[$1]{{=$2}}&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>    </span><span style="color: #A626A4">member</span><span> </span><span style="color: #E45649">__.Item</span><span> </span><span style="color: #A626A4">with</span><span> get</span><span style="color: #986801">()</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">float </span><span style="color: #A626A4">=</span><span> jsNative </span><span style="color: #A626A4">and</span><span> set</span><span style="color: #A626A4">(</span><span style="color: #383A42">v</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">float</span><span style="color: #A626A4">):</span><span> </span><span style="color: #C18401">unit </span><span style="color: #A626A4">=</span><span> jsNative</span>

<span>    </span><span style="color: #A0A1A7;font-style: italic">// This syntax means: if second arg evals to true in JS print &#039;i&#039; and nothing otherwise</span>
<span>    </span><span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;new RegExp($0,&#039;g{{$1?i:}}&#039;)&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>    </span><span style="color: #A626A4">member</span><span> </span><span style="color: #E45649">__.ParseRegex</span><span style="color: #A626A4">(</span><span style="color: #383A42">pattern</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string</span><span style="color: #A626A4">,</span><span> </span><span style="color: #A626A4">?</span><span style="color: #383A42">ignoreCase</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">bool</span><span style="color: #A626A4">):</span><span> </span><span style="color: #C18401">Regex </span><span style="color: #A626A4">=</span><span> jsNative</span></code></pre>
<p>The content of <code>Emit</code> will actually be parsed by Babel so it will still be validated somehow. However, it's not advised to abuse this method, as the code in the template will remain obscure to Fable and may prevent some optimizations.</p>
<h4><a href="#lets-do-it-use-emit" aria-hidden="true" style="visibility:visible"><span class="anchor" id="lets-do-it-use-emit"></span>#</a> Let's do it! Use Emit</h4>
<p>Now let's work with Emit and take a new example with the following <code>MyClass.js</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">class</span><span style="color: #383A42"> </span><span style="color: #C18401">MyClass</span><span style="color: #383A42"> {</span>
<span style="color: #383A42">  </span><span style="color: #A626A4">constructor</span><span style="color: #383A42">( value ) {</span>
<span style="color: #383A42">    </span><span style="color: #E45649">this</span><span style="color: #383A42">.</span><span style="color: #E45649">awesomeInteger</span><span style="color: #383A42"> </span><span style="color: #0184BC">=</span><span style="color: #383A42"> value;</span>
<span style="color: #383A42">  }</span>

<span style="color: #383A42">  </span><span style="color: #0184BC">get</span><span style="color: #383A42"> </span><span style="color: #4078F2">awesomeInteger</span><span style="color: #383A42">() {</span>
<span style="color: #383A42">    </span><span style="color: #A626A4">return</span><span style="color: #383A42"> </span><span style="color: #E45649">this</span><span style="color: #383A42">.</span><span style="color: #E45649">_awesomeInteger</span><span style="color: #383A42">;</span>
<span style="color: #383A42">  }</span>

<span style="color: #383A42">  </span><span style="color: #0184BC">set</span><span style="color: #383A42"> </span><span style="color: #4078F2">awesomeInteger</span><span style="color: #383A42">( newValue ) {</span>
<span style="color: #383A42">    </span><span style="color: #E45649">this</span><span style="color: #383A42">.</span><span style="color: #E45649">_awesomeInteger</span><span style="color: #383A42"> </span><span style="color: #0184BC">=</span><span style="color: #383A42"> newValue;</span>
<span style="color: #383A42">  }</span>

<span style="color: #383A42">  </span><span style="color: #4078F2">isAwesome</span><span style="color: #383A42">() {</span>
<span style="color: #383A42">    </span><span style="color: #A626A4">return</span><span style="color: #383A42"> </span><span style="color: #E45649">this</span><span style="color: #383A42">.</span><span style="color: #E45649">_awesomeInteger</span><span style="color: #383A42"> </span><span style="color: #0184BC">===</span><span style="color: #383A42"> </span><span style="color: #986801">42</span><span style="color: #383A42">;</span>
<span style="color: #383A42">  }</span>

<span style="color: #383A42">  </span><span style="color: #A626A4">static</span><span style="color: #383A42"> </span><span style="color: #4078F2">getPI</span><span style="color: #383A42">() {</span>
<span style="color: #383A42">    </span><span style="color: #A626A4">return</span><span style="color: #383A42"> </span><span style="color: #986801">Math</span><span style="color: #383A42">.</span><span style="color: #986801">PI</span><span style="color: #383A42">;</span>
<span style="color: #383A42">  }</span>
<span style="color: #383A42">}</span>

<span style="color: #A626A4">export</span><span> </span><span style="color: #383A42">{</span><span> </span><span style="color: #383A42">MyClass</span><span> </span><span style="color: #383A42">as</span><span> </span><span style="color: #E45649">default</span><span style="color: #383A42">}</span></code></pre>
<p>Let's list its members:</p>
<ul>
<li>an <code>awesomeInteger</code> member which is an int with a getter and a setter</li>
<li>a method, <code>isAwesome</code>, that checks if our <code>awesomeInteger</code> equals 42</li>
<li>a static method <code>getPi()</code> that just returns the value of <code>Math.PI</code></li>
</ul>
<p>Here's the Fable implementation. Let's start with the members:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">MyClassImplementation</span><span> </span><span style="color: #A626A4">=</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> awesomeInteger</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">int</span><span> </span><span style="color: #A626A4">with</span><span> get</span><span style="color: #A626A4">,</span><span> set</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> isAwesome</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span> </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">bool</span></code></pre>
<p>Now we need to be able to call our static function. We'll also fit our constructor here.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">MyClass</span><span> </span><span style="color: #A626A4">=</span>
<span>  </span><span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;new $0($1...)&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> Create </span><span style="color: #A626A4">:</span><span style="color: #383A42"> awesomeInteger</span><span style="color: #A626A4">:</span><span style="color: #C18401">int </span><span style="color: #A626A4">-&gt;</span><span>  </span><span style="color: #C18401">MyClassImplementation</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> getPI </span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">float</span></code></pre>
<p>Here we used the <code>Emit</code> attribute to call the contructor of <code>MyClass</code>. Last but not least, let call this:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;default&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> </span><span style="color: #50A14F">&quot;../public/MyClass.js&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span><span> </span><span style="color: #A0A1A7;font-style: italic">// 3</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">myClassStatic</span><span style="color: #383A42"> </span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">MyClass </span><span style="color: #A626A4">=</span><span> jsNative</span></code></pre>
<p>Now it's possible to use our class. Let's see the complete code:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">MyClassImplementation</span><span> </span><span style="color: #A626A4">=</span><span> </span><span style="color: #A0A1A7;font-style: italic">// 1</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> awesomeInteger</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">int</span><span> </span><span style="color: #A626A4">with</span><span> get</span><span style="color: #A626A4">,</span><span> set</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> isAwesome</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span> </span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">bool</span>

<span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">MyClass</span><span> </span><span style="color: #A626A4">=</span><span> </span><span style="color: #A0A1A7;font-style: italic">// 2</span>
<span>  </span><span style="color: #0184BC">[&lt;Emit</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;new $0($1...)&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> Create </span><span style="color: #A626A4">:</span><span style="color: #383A42"> awesomeInteger</span><span style="color: #A626A4">:</span><span style="color: #C18401">int </span><span style="color: #A626A4">-&gt;</span><span>  </span><span style="color: #C18401">MyClassImplementation</span><span> </span><span style="color: #A0A1A7;font-style: italic">//= jsNative  // takes a string parameter and does not return anything</span>
<span>  </span><span style="color: #A626A4">abstract</span><span> getPI </span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">unit</span><span style="color: #A626A4">-&gt;</span><span> </span><span style="color: #C18401">float</span>

<span style="color: #0184BC">[&lt;Import</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;default&quot;</span><span style="color: #A626A4">,</span><span style="color: #0184BC"> </span><span style="color: #50A14F">&quot;../public/MyClass.js&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span><span> </span><span style="color: #A0A1A7;font-style: italic">// 3</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">myClassStatic</span><span style="color: #383A42"> </span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">MyClass </span><span style="color: #A626A4">=</span><span> jsNative</span>

<span style="color: #A0A1A7;font-style: italic">// let&#039;s make our object mutable to be able to change its members</span>
<span style="color: #A626A4">let mutable</span><span> </span><span style="color: #E45649">myObject</span><span> </span><span style="color: #A626A4">=</span><span> myClassStatic.Create </span><span style="color: #986801">40</span>

<span style="color: #A0A1A7;font-style: italic">// using getter</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">whatDoIget</span><span> </span><span style="color: #A626A4">=</span><span> myObject.awesomeInteger </span><span style="color: #A0A1A7;font-style: italic">// using getter</span>
<span>mylib.triggerAlert </span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;Hey I&#039;m calling my js class from Fable. It gives &quot;</span><span> </span><span style="color: #A626A4">+</span><span> </span><span style="color: #A626A4">(</span><span>string whatDoIget</span><span style="color: #A626A4">))</span>

<span style="color: #A0A1A7;font-style: italic">// using setter</span>
<span>myObject.awesomeInteger </span><span style="color: #A626A4">&lt;-</span><span> </span><span style="color: #986801">42</span>
<span>mylib.triggerAlert </span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;Now it&#039;s better. It gives &quot;</span><span> </span><span style="color: #A626A4">+</span><span> </span><span style="color: #A626A4">(</span><span>string myObject.awesomeInteger</span><span style="color: #A626A4">))</span>

<span style="color: #A0A1A7;font-style: italic">// calling member function</span>
<span>mylib.triggerAlert </span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;Isn&#039;t it awesome? &quot;</span><span> </span><span style="color: #A626A4">+</span><span> </span><span style="color: #A626A4">(</span><span>string </span><span style="color: #A626A4">(</span><span>myObject.isAwesome</span><span style="color: #A626A4">())))</span>

<span style="color: #A0A1A7;font-style: italic">// call our static function</span>
<span>mylib.triggerAlert </span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;PI is &quot;</span><span> </span><span style="color: #A626A4">+</span><span> </span><span style="color: #A626A4">(</span><span>string </span><span style="color: #A626A4">(</span><span>myClassStatic.getPI</span><span style="color: #A626A4">())))</span></code></pre>
<h3><a href="#stringenum-enums-compiled-to-strings" aria-hidden="true" style="visibility:visible"><span class="anchor" id="stringenum-enums-compiled-to-strings"></span>#</a> StringEnum, Enums compiled to strings!</h3>
<p>Like TypeScript where it's possible to define String Literal Types which are similar to enumerations with an underlying string value. Fable allows the same feature by using union types and the StringEnum attribute. These union types must not have any data fields as they will be compiled to a string matching the name of the union case.</p>
<p>By default, the compiled string will have the first letter lowered. If you want to prevent this or use a different text than the union case name, use the CompiledName attribute:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core</span>

<span style="color: #0184BC">[&lt;StringEnum&gt;]</span>
<span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">MyStrings</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #A626A4">|</span><span> Vertical</span>
<span>    </span><span style="color: #A626A4">|</span><span> </span><span style="color: #0184BC">[&lt;CompiledName</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;Horizontal&quot;</span><span style="color: #A626A4">)</span><span style="color: #0184BC">&gt;]</span><span> Horizontal</span>

<span>myLib.myMethod</span><span style="color: #A626A4">(</span><span>Vertical</span><span style="color: #A626A4">,</span><span> Horizontal</span><span style="color: #A626A4">)</span></code></pre>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A0A1A7;font-style: italic">// js output</span>
<span style="color: #E45649">myLib</span><span style="color: #383A42">.</span><span style="color: #4078F2">myMethod</span><span style="color: #383A42">(</span><span style="color: #50A14F">&quot;vertical&quot;</span><span style="color: #383A42">,</span><span> </span><span style="color: #50A14F">&quot;Horizontal&quot;</span><span style="color: #383A42">)</span></code></pre>
<h3><a href="#plain-old-javascript-objects" aria-hidden="true" style="visibility:visible"><span class="anchor" id="plain-old-javascript-objects"></span>#</a> Plain Old JavaScript Objects</h3>
<p>To create a plain JS object (aka POJO), use <code>createObj</code>:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">data</span><span> </span><span style="color: #A626A4">=</span>
<span>    createObj </span><span style="color: #A626A4">[</span>
<span>        </span><span style="color: #50A14F">&quot;todos&quot;</span><span> </span><span style="color: #A626A4">==&gt;</span><span> Storage.fetch</span><span style="color: #986801">()</span>
<span>        </span><span style="color: #50A14F">&quot;editedTodo&quot;</span><span> </span><span style="color: #A626A4">==&gt;</span><span> None</span>
<span>        </span><span style="color: #50A14F">&quot;visibility&quot;</span><span> </span><span style="color: #A626A4">==&gt;</span><span> </span><span style="color: #50A14F">&quot;all&quot;</span>
<span>    </span><span style="color: #A626A4">]</span></code></pre>
<h3><a href="#call-interfaces" aria-hidden="true" style="visibility:visible"><span class="anchor" id="call-interfaces"></span>#</a> Call Interfaces</h3>
<p>You can also create a JS object from an interface by using <code>createEmpty</code> and then assigning manually:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">type</span><span> </span><span style="color: #C18401">IMyInterface</span><span> </span><span style="color: #A626A4">=</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> foo</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">string</span><span> </span><span style="color: #A626A4">with</span><span> get</span><span style="color: #A626A4">,</span><span> set</span>
<span>    </span><span style="color: #A626A4">abstract</span><span> bar</span><span style="color: #A626A4">:</span><span> </span><span style="color: #C18401">float</span><span> </span><span style="color: #A626A4">with</span><span> get</span><span style="color: #A626A4">,</span><span> set</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">x</span><span> </span><span style="color: #A626A4">=</span><span> createEmpty</span><span style="color: #A626A4">&lt;</span><span>IMyInterface</span><span style="color: #A626A4">&gt;</span><span> </span><span style="color: #A0A1A7;font-style: italic">// var x = {}</span>
<span>x.foo </span><span style="color: #A626A4">&lt;-</span><span> </span><span style="color: #50A14F">&quot;abc&quot;</span><span>                    </span><span style="color: #A0A1A7;font-style: italic">// x.foo = &quot;abc&quot;</span>
<span>x.bar </span><span style="color: #A626A4">&lt;-</span><span> </span><span style="color: #986801">8.5</span><span>                      </span><span style="color: #A0A1A7;font-style: italic">// val.bar = 8.5</span></code></pre>
<h3><a href="#dynamic-typing-dont-read-this" aria-hidden="true" style="visibility:visible"><span class="anchor" id="dynamic-typing-dont-read-this"></span>#</a> Dynamic typing: don't read this!</h3>
<p>Through the use of the tools we just described above, Fable guarantees you shouldn't run into nasty bugs because all the code will be compiled. It it does not compile it either means your js library does not exists or its path is not good or that your F# implementation laks something. We do rely on Fable on systems that are used 24/7, web apps or Node.js apps. We know that if it compiles, it means a 99% chance of running without any problems.</p>
<p>Our motto is: <code>If it compiles, it works!</code></p>
<p>Still, like we stated, <strong>interop is a question of trust</strong>. If you trust your js code and F# code, then maybe it's ok to do things together without further checks. Maybe.</p>
<article class="message is-warning">
                <div class="message-body"><p>Disclaimer: use this at your own risks</p>
</div>
</article>
<h4><a href="#what-is-dynamic-typing" aria-hidden="true" style="visibility:visible"><span class="anchor" id="what-is-dynamic-typing"></span>#</a> What is dynamic typing?</h4>
<p>Fable.Core.JsInterop implements the F# dynamic operators so you can easily access an object property by name (without static check) as follows:</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span>

<span>printfn </span><span style="color: #50A14F">&quot;Value: </span><span style="color: #A626A4">%O</span><span style="color: #50A14F">&quot;</span><span> jsObject?myProperty</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">pname</span><span> </span><span style="color: #A626A4">=</span><span> </span><span style="color: #50A14F">&quot;myProperty&quot;</span>

<span>printfn </span><span style="color: #50A14F">&quot;Value: </span><span style="color: #A626A4">%O</span><span style="color: #50A14F">&quot;</span><span> jsObject?</span><span style="color: #A626A4">(</span><span>pname</span><span style="color: #A626A4">)</span><span> </span><span style="color: #A0A1A7;font-style: italic">// Access with a string reference</span>

<span>jsObject?myProperty </span><span style="color: #A626A4">&lt;-</span><span> </span><span style="color: #986801">5</span><span> </span><span style="color: #A0A1A7;font-style: italic">// Assignment is also possible</span></code></pre>
<p>When you combine the dynamic operator with application, Fable will destructure tuple arguments as with normal method calls. These operations can also be chained to replicate JS fluent APIs.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">result</span><span> </span><span style="color: #A626A4">=</span><span> jsObject?myMethod</span><span style="color: #A626A4">(</span><span style="color: #986801">1</span><span style="color: #A626A4">,</span><span> </span><span style="color: #986801">2</span><span style="color: #A626A4">)</span>
<span style="color: #A0A1A7;font-style: italic">// var result = jsObject.myMethod(1, 2)</span>

<span>chart</span>
<span>    ?width</span><span style="color: #A626A4">(</span><span style="color: #986801">768.</span><span style="color: #A626A4">)</span>
<span>    ?height</span><span style="color: #A626A4">(</span><span style="color: #986801">480.</span><span style="color: #A626A4">)</span>
<span>    ?group</span><span style="color: #A626A4">(</span><span>speedSumGroup</span><span style="color: #A626A4">)</span>
<span>    ?on</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;renderlet&quot;</span><span style="color: #A626A4">,</span><span> </span><span style="color: #A626A4">fun</span><span style="color: #383A42"> chart </span><span style="color: #A626A4">-&gt;</span>
<span>        chart?selectAll</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;rect&quot;</span><span style="color: #A626A4">)</span><span>?on</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;click&quot;</span><span style="color: #A626A4">,</span><span> </span><span style="color: #A626A4">fun</span><span style="color: #383A42"> sender args </span><span style="color: #A626A4">-&gt;</span>
<span>            Browser.console.log</span><span style="color: #A626A4">(</span><span style="color: #50A14F">&quot;click!&quot;</span><span style="color: #A626A4">,</span><span> args</span><span style="color: #A626A4">))</span>

<span style="color: #A0A1A7;font-style: italic">// will generate the following js code</span>
<span style="color: #A0A1A7;font-style: italic">// chart</span>
<span style="color: #A0A1A7;font-style: italic">//     .width(768)</span>
<span style="color: #A0A1A7;font-style: italic">//     .height(480)</span>
<span style="color: #A0A1A7;font-style: italic">//     .group(speedSumGroup)</span>
<span style="color: #A0A1A7;font-style: italic">//     .on(&quot;renderlet&quot;, function (chart) {</span>
<span style="color: #A0A1A7;font-style: italic">//         return chart.selectAll(&quot;rect&quot;).on(&quot;click&quot;, function (sender, args) {</span>
<span style="color: #A0A1A7;font-style: italic">//             return console.log(&quot;click!&quot;, args);</span>
<span style="color: #A0A1A7;font-style: italic">//         });</span>
<span style="color: #A0A1A7;font-style: italic">//      });</span></code></pre>
<blockquote>
<p>Note that in order to make this possible, the output of the ? is an applicable value. If you don't want this behaviour, <code>unbox</code> or the <code>!!</code> dynamic cast operator: <code>let myValue: int = !!myObj?otherMethod(&quot;foo&quot;, &quot;bar&quot;)</code></p>
</blockquote>
<p>When you have to call a function with the new keyword in JS, use <code>createNew</code>.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.JsInterop</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">instance</span><span> </span><span style="color: #A626A4">=</span><span> createNew jsObject?myMethod</span><span style="color: #A626A4">(</span><span style="color: #986801">1</span><span style="color: #A626A4">,</span><span> </span><span style="color: #986801">2</span><span style="color: #A626A4">)</span></code></pre>
<p>If you prefer member extensions rather than operators for dynamic typing, you can open <code>Fable.Core.DynamicExtensions</code> to have the methods <code>.Item</code> and <code>.Invoke</code> available on any object.</p>
<pre style="background-color: #FAFAFA;color: ;padding: 1em"><code><span style="color: #A626A4">open</span><span> </span><span style="color: #4078F2">Fable.Core.DynamicExtensions</span>

<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">foo</span><span> </span><span style="color: #A626A4">=</span><span> obj</span><span style="color: #986801">()</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">bar1</span><span> </span><span style="color: #A626A4">=</span><span> foo.</span><span style="color: #A626A4">[</span><span style="color: #50A14F">&quot;b&quot;</span><span style="color: #A626A4">]</span><span>  </span><span style="color: #A0A1A7;font-style: italic">// Same as foo.Item(&quot;b&quot;)</span>
<span>foo.</span><span style="color: #A626A4">[</span><span style="color: #50A14F">&quot;c&quot;</span><span style="color: #A626A4">]</span><span> </span><span style="color: #A626A4">&lt;-</span><span> </span><span style="color: #986801">14</span>
<span style="color: #A626A4">let</span><span> </span><span style="color: #E45649">bar2</span><span> </span><span style="color: #A626A4">=</span><span> foo.Invoke</span><span style="color: #A626A4">(</span><span style="color: #986801">4</span><span style="color: #A626A4">,</span><span> </span><span style="color: #50A14F">&quot;a&quot;</span><span style="color: #A626A4">)</span></code></pre>
</div></div></section></div><div class="column is-2-desktop full-height-scrollable-content        is-hidden-touch     "><div><nav class="toc-container"><ul class="toc-headings"><div class="toc-label"><a href="#call-js-from-fable">Call JS from Fable</a></div><ul class="toc-headings"><li><a href="#adding-the-js-library-to-the-project">Adding the JS library to the project</a></li><li><a href="#type-safety-with-imports-and-interfaces">Type safety with Imports and Interfaces</a><ul class="toc-headings"><li><a href="#lets-practice-1st-try">Let's practice! 1st try!</a></li><li><a href="#lets-practice-2nd-try">Let's practice! 2nd try!</a></li><li><a href="#miscelaneous-import-helpers">Miscelaneous import helpers</a></li></ul></li><li><a href="#emit-your-relatively-safe-friend">Emit, your relatively safe friend</a><ul class="toc-headings"><li><a href="#lets-do-it-use-emit">Let's do it! Use Emit</a></li></ul></li><li><a href="#stringenum-enums-compiled-to-strings">StringEnum, Enums compiled to strings!</a></li><li><a href="#plain-old-javascript-objects">Plain Old JavaScript Objects</a></li><li><a href="#call-interfaces">Call Interfaces</a></li><li><a href="#dynamic-typing-dont-read-this">Dynamic typing: don't read this!</a><ul class="toc-headings"><li><a href="#what-is-dynamic-typing">What is dynamic typing?</a></li></ul></li></ul></li></ul></nav></div></div></div><script type="text/javascript">
nacara.pageId = 'communicate/js-from-fable';
                </script></div></body></html>